## ğŸ¤– Assistant

# OpenList All-in-One Magisk/KernelSU æ¨¡å—

[![Release](https://img.shields.io/github/v/release/snove999/OpenList-Magisk)](https://github.com/snove999/OpenList-Magisk/releases)
[![License](https://img.shields.io/github/license/snove999/OpenList-Magisk)](https://github.com/snove999/OpenList-Magisk/blob/main/LICENSE)

OpenList All-in-One æ¨¡å—å°† [OpenList](https://github.com/OpenListTeam/OpenList) æ–‡ä»¶æœåŠ¡å™¨åŠå¤šæ¬¾å®ç”¨å·¥å…·é›†æˆåˆ° Android ç³»ç»Ÿä¸­ï¼Œé€šè¿‡ Magisk æˆ– KernelSU ä»¥ç³»ç»ŸåŒ–æ–¹å¼è¿è¡Œï¼Œæ”¯æŒ ARM å’Œ ARM64 æ¶æ„ã€‚

## âœ¨ åŒ…å«ç»„ä»¶

| ç»„ä»¶ | è¯´æ˜ | é»˜è®¤ç«¯å£ |
|------|------|---------|
| **OpenList** | å¤šå­˜å‚¨èšåˆæ–‡ä»¶ç®¡ç†å™¨ | 5244 |
| **Aria2** | é«˜é€Ÿä¸‹è½½å™¨ (æ”¯æŒ HTTP/BT/ç£åŠ›) | 6800 (RPC) |
| **Qbittorrent** | BT/PT ä¸‹è½½å®¢æˆ·ç«¯ | 8080 (WebUI) |
| **Frpc** | å†…ç½‘ç©¿é€å®¢æˆ·ç«¯ | - |
| **Rclone** | äº‘å­˜å‚¨åŒæ­¥å·¥å…· (æŒ‰éœ€è°ƒç”¨) | - |
| **AriaNg** | Aria2 Web ç®¡ç†ç•Œé¢ | - |
| **VueTorrent** | Qbittorrent ç°ä»£åŒ– WebUI | - |

## åŠŸèƒ½äº®ç‚¹

- **ğŸ”§ æ¨¡å—åŒ–æœåŠ¡ç®¡ç†**ï¼šé€šè¿‡é…ç½®æ–‡ä»¶çµæ´»å¯ç”¨/ç¦ç”¨å„æœåŠ¡
- **ğŸ“¦ ä¸€é”®å®‰è£…**ï¼šè‡ªåŠ¨ä¸‹è½½å¹¶é…ç½®æ‰€æœ‰ç»„ä»¶
- **ğŸ¨ ç°ä»£åŒ– WebUI**ï¼šQbittorrent é»˜è®¤ä½¿ç”¨ VueTorrent ç•Œé¢
- **ğŸ” å®‰å…¨é…ç½®**ï¼šAria2 RPC é»˜è®¤å¯ç”¨å¯†é’¥è®¤è¯
- **ğŸ“± åŒæ¡†æ¶æ”¯æŒ**ï¼šåŒæ—¶å…¼å®¹ Magisk å’Œ KernelSU
- **ğŸŒ æ™ºèƒ½ç½‘ç»œé€‚é…**ï¼šè‡ªåŠ¨è¯†åˆ« WiFi/ç§»åŠ¨ç½‘ç»œ IP
- **ğŸ“Š çŠ¶æ€ç›‘æ§**ï¼šæ¨¡å—æè¿°å®æ—¶æ˜¾ç¤ºå„æœåŠ¡è¿è¡ŒçŠ¶æ€

## ç³»ç»Ÿè¦æ±‚

- Android è®¾å¤‡ï¼ˆARM64 æ¶æ„ï¼Œéƒ¨åˆ†ç»„ä»¶ä»…æ”¯æŒ ARM64ï¼‰
- Magisk v20.4+ æˆ– KernelSU
- Root æƒé™
- çº¦ 150MB å­˜å‚¨ç©ºé—´

## å®‰è£…æ­¥éª¤

### 1. ä¸‹è½½æ¨¡å—
ä» [GitHub Releases](https://github.com/snove999/OpenList-Magisk/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ `openlist-magisk-vX.X.X.zip`

### 2. å®‰è£…é…ç½®
1. æ‰“å¼€ Magisk/KernelSU ç®¡ç†å™¨
2. é€‰æ‹©ã€Œä»æœ¬åœ°å®‰è£…ã€
3. æŒ‰æç¤ºé…ç½®ï¼š
 - **äºŒè¿›åˆ¶å®‰è£…ä½ç½®**ï¼šæ¨èé€‰æ‹© `/data/adb/openlist/bin`
 - **æ•°æ®ç›®å½•**ï¼šæ¨èé€‰æ‹© `/data/adb/openlist`
 - **åˆå§‹å¯†ç **ï¼šå¯é€‰è®¾ç½®ä¸º `admin`

### 3. å®Œæˆå®‰è£…
- ç­‰å¾…å®‰è£…å®Œæˆåé‡å¯è®¾å¤‡
- é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤é…ç½®æ–‡ä»¶

## ä½¿ç”¨è¯´æ˜

### æœåŠ¡æ§åˆ¶

**é…ç½®æ–‡ä»¶ä½ç½®**ï¼š`<æ•°æ®ç›®å½•>/config/services.conf`

```bash
# è®¾ç½®ä¸º true å¯ç”¨ï¼Œfalse ç¦ç”¨
openlist=true      # OpenList æ–‡ä»¶æœåŠ¡å™¨
aria2=false        # Aria2 ä¸‹è½½å™¨
qbittorrent=false  # Qbittorrent BTå®¢æˆ·ç«¯
frpc=false         # Frpc å†…ç½‘ç©¿é€
```

ä¿®æ”¹åé‡å¯è®¾å¤‡æˆ–é€šè¿‡ Magiskã€ŒåŠ¨ä½œã€æŒ‰é’®é‡å¯æœåŠ¡ç”Ÿæ•ˆã€‚

### è®¿é—®åœ°å€

| æœåŠ¡ | åœ°å€ | é»˜è®¤å‡­æ® |
|------|------|---------|
| OpenList | `http://<IP>:5244` | è§ `åˆå§‹å¯†ç .txt` |
| Aria2 (AriaNg) | `http://<IP>:5244/ariang` | RPCå¯†é’¥: `openlist` |
| Qbittorrent | `http://<IP>:8080` | admin / adminadmin |

> **æç¤º**ï¼šè®¾å¤‡ IP åœ°å€æ˜¾ç¤ºåœ¨ Magisk æ¨¡å—æè¿°ä¸­

### é…ç½®æ–‡ä»¶è¯´æ˜

æ‰€æœ‰é…ç½®æ–‡ä»¶ä½äº `<æ•°æ®ç›®å½•>/config/` ç›®å½•ï¼š

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `services.conf` | æœåŠ¡å¯ç”¨æ§åˆ¶ |
| `aria2.conf` | Aria2 é…ç½® (RPCç«¯å£ã€ä¸‹è½½ç›®å½•ç­‰) |
| `frpc.toml` | Frpc é…ç½® (éœ€æ‰‹åŠ¨å¡«å†™æœåŠ¡å™¨ä¿¡æ¯) |

### ç›®å½•ç»“æ„

```
<æ•°æ®ç›®å½•>/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ services.conf    # æœåŠ¡å¼€å…³
â”‚   â”œâ”€â”€ aria2.conf       # Aria2 é…ç½®
â”‚   â””â”€â”€ frpc.toml        # Frpc é…ç½®
â”œâ”€â”€ downloads/           # ç»Ÿä¸€ä¸‹è½½ç›®å½•
â”œâ”€â”€ aria2/
â”‚   â”œâ”€â”€ aria2.session    # Aria2 ä¼šè¯
â”‚   â””â”€â”€ aria2.log        # Aria2 æ—¥å¿—
â”œâ”€â”€ qbittorrent/         # Qbittorrent æ•°æ®
â”œâ”€â”€ openlist.log         # OpenList æ—¥å¿—
â””â”€â”€ åˆå§‹å¯†ç .txt          # OpenList åˆå§‹å¯†ç 
```

## é«˜çº§é…ç½®

### Aria2 é…ç½®
é»˜è®¤é…ç½®æ–‡ä»¶ `aria2.conf` å·²ä¼˜åŒ–ï¼Œå…³é”®å‚æ•°ï¼š
- **RPC å¯†é’¥**ï¼š`openlist`ï¼ˆå¯åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ `rpc-secret`ï¼‰
- **ä¸‹è½½ç›®å½•**ï¼š`<æ•°æ®ç›®å½•>/downloads`
- **æœ€å¤§å¹¶å‘**ï¼š5 ä¸ªä»»åŠ¡

### Qbittorrent é…ç½®
- WebUI å·²é»˜è®¤å¯ç”¨ VueTorrent ä¸»é¢˜
- é¦–æ¬¡ç™»å½•ç”¨æˆ·å `admin`ï¼Œå¯†ç  `adminadmin`
- **å¼ºçƒˆå»ºè®®é¦–æ¬¡ç™»å½•åä¿®æ”¹å¯†ç **

### Frpc å†…ç½‘ç©¿é€
1. ç¼–è¾‘ `<æ•°æ®ç›®å½•>/config/frpc.toml`
2. å¡«å†™ä½ çš„ Frp æœåŠ¡å™¨ä¿¡æ¯ï¼š
```toml
   serverAddr = "your.frp.server.com"
   serverPort = 7000
   auth.token = "your_token"
   ```
3. åœ¨ `services.conf` ä¸­å¯ç”¨ï¼š`frpc=true`
4. é‡å¯æœåŠ¡

### Rclone ä½¿ç”¨
Rclone ä¸ä½œä¸ºæœåŠ¡è¿è¡Œï¼Œå¯é€šè¿‡å‘½ä»¤è¡Œæˆ– OpenList è°ƒç”¨ï¼š
```bash
# äºŒè¿›åˆ¶ä½ç½®
/data/adb/modules/<æ¨¡å—ID>/bin/rclone

# é…ç½®æ–‡ä»¶ï¼ˆéœ€æ‰‹åŠ¨åˆ›å»ºï¼‰
<æ•°æ®ç›®å½•>/config/rclone.conf
```

## æ•…éšœæ’é™¤

### æŸ¥çœ‹æ—¥å¿—
```bash
# æ¨¡å—ä¸»æ—¥å¿—
cat /data/adb/modules/openlist/service.log

# OpenList æ—¥å¿—
cat <æ•°æ®ç›®å½•>/openlist.log

# Aria2 æ—¥å¿—
cat <æ•°æ®ç›®å½•>/aria2/aria2.log
```

### å¸¸è§é—®é¢˜

**Q: æœåŠ¡æ— æ³•å¯åŠ¨**
- æ£€æŸ¥ `services.conf` æ˜¯å¦æ­£ç¡®é…ç½®
- æŸ¥çœ‹ `service.log` è·å–é”™è¯¯ä¿¡æ¯
- ç¡®è®¤äºŒè¿›åˆ¶æ–‡ä»¶æœ‰æ‰§è¡Œæƒé™

**Q: æ— æ³•è®¿é—® WebUI**
- ç¡®è®¤è®¾å¤‡ä¸è®¿é—®ç«¯åœ¨åŒä¸€ç½‘ç»œ
- æ£€æŸ¥å¯¹åº”æœåŠ¡æ˜¯å¦å·²å¯ç”¨å¹¶è¿è¡Œ
- å°è¯•ä½¿ç”¨ `localhost` æˆ– `127.0.0.1`ï¼ˆä»…é™è®¾å¤‡æœ¬åœ°ï¼‰

**Q: Aria2 RPC è¿æ¥å¤±è´¥**
- é»˜è®¤å¯†é’¥ä¸º `openlist`ï¼Œåœ¨ AriaNg è®¾ç½®ä¸­å¡«å†™
- æ£€æŸ¥ç«¯å£ 6800 æ˜¯å¦è¢«å ç”¨

**Q: Frpc å¯åŠ¨å¤±è´¥**
- ç¡®è®¤å·²æ­£ç¡®é…ç½®æœåŠ¡å™¨ä¿¡æ¯
- æ£€æŸ¥ `frpc.toml` è¯­æ³•æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹ `<æ•°æ®ç›®å½•>/frpc.log`

### æ‰‹åŠ¨æ“ä½œ
```bash
# æŸ¥çœ‹è¿è¡Œä¸­çš„æœåŠ¡
pgrep -fa "openlist|aria2c|qbittorrent|frpc"

# åœæ­¢æ‰€æœ‰æœåŠ¡
pkill -f openlist; pkill -f aria2c; pkill -f qbittorrent-nox; pkill -f frpc

# æ‰‹åŠ¨å¯åŠ¨æœåŠ¡
sh /data/adb/modules/openlist/service.sh
```

## æ›´æ–°è¯´æ˜

- æ›´æ–°æ—¶ä¼šä¿ç•™ç°æœ‰é…ç½®å’Œæ•°æ®
- æ–°ç‰ˆæœ¬å¯èƒ½åŒ…å«æ–°çš„é»˜è®¤é…ç½®é¡¹ï¼Œå»ºè®®æ£€æŸ¥ `services.conf`
- é€šè¿‡ Magisk æ›´æ–°æ£€æŸ¥è·å–æœ€æ–°ç‰ˆæœ¬

## å¸è½½è¯´æ˜

### é€šè¿‡ Magisk å¸è½½
- å®Œå…¨å¸è½½ï¼šè‡ªåŠ¨åœæ­¢æœåŠ¡å¹¶æ¸…ç†æ‰€æœ‰æ•°æ®
- ä½¿ç”¨ `uninstall-user.sh` å¯é€‰æ‹©ä¿ç•™ä¸‹è½½æ–‡ä»¶

### æ•°æ®ä¿ç•™
å¸è½½åä»¥ä¸‹ç›®å½•å¯èƒ½ä¿ç•™ï¼ˆå–å†³äºé€‰æ‹©ï¼‰ï¼š
- `/data/adb/openlist/downloads/`
- `/sdcard/Android/openlist/downloads/`

## è‡´è°¢

- [OpenList](https://github.com/OpenListTeam/OpenList) - æ ¸å¿ƒæ–‡ä»¶æœåŠ¡å™¨
- [Aria2](https://github.com/aria2/aria2) - ä¸‹è½½å¼•æ“
- [qBittorrent](https://github.com/qbittorrent/qBittorrent) - BT å®¢æˆ·ç«¯
- [frp](https://github.com/fatedier/frp) - å†…ç½‘ç©¿é€
- [Rclone](https://github.com/rclone/rclone) - äº‘å­˜å‚¨å·¥å…·
- [AriaNg](https://github.com/mayswind/AriaNg) - Aria2 WebUI
- [VueTorrent](https://github.com/VueTorrent/VueTorrent) - qBittorrent WebUI

## è´¡çŒ®

- æ¬¢è¿æäº¤ Issue å’Œ Pull Request
- é—®é¢˜åé¦ˆï¼š[GitHub Issues](https://github.com/snove999/OpenList-Magisk/issues)

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT è®¸å¯è¯](LICENSE) å‘å¸ƒã€‚
